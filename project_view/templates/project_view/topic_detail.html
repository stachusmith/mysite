
{% extends "base_menu.html" %}
{% load humanize %}
{% block head %}
<style>
#picture_box {
    width:30%;
    height: 200px;
    padding: 5px;
    margin: 1em;
    border-width: 1px;
    border-style: solid;
    border-color: black;
    border-radius: 5px;
    background-color: rgb(246, 246, 246);
}
.picture_detail {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10;
    display: none;
    background-color: rgba(0,0,0,0.5);
}
</style>
{% endblock %}

{% block content %}

<span style="float: right;">
({{ topic.updated_at|naturaltime }})
{% if part.owner == user %}
<a href="{% url 'project_view:topic_update' part.id topic.id %}"><i class="fa fa-pencil"></i></a>
<a href="{% url 'project_view:topic_delete' part.id topic.id %}"><i class="fa fa-trash"></i></a>
{% endif %}
</span>
<h1>{{ topic.title }}</h1>

<p>
    pictures:
</p>

{% if picture_list %}

    {% for picture in picture_list %}
        <a href="#"><img type="image" id=picture_box
            src="{% url 'project_view:picture_stream' topic.id picture.id %}" 
            onclick="document.getElementById('picture_detail{{ picture.id}}').style.display= 'block';"><!--picture detail appears-->
        </a>

        <div id='picture_detail{{ picture.id}}' class="picture_detail" onclick="document.getElementById('picture_detail{{ picture.id}}').style.display= 'none';"><a href="#">
            <img type="image"  src="{% url 'project_view:picture_stream' topic.id picture.id %}" 
            style="position: fixed; max-width: 100%; height: auto; left: 50%; top: 50%; transform: translate(-50%, -50%);"><!--picture detail disappears-->
        </a></div>
    {% endfor %}
</ul>
{% else %}
<p>
    there are no pictures for this topic
</p>
{% endif %}




<p>
<a href="{% url 'project_view:part_detail' module.id part.id %}">All topics</a>
</p>

{% endblock %}

